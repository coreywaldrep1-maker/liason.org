/* ==========================================================================
   Tailwind base
   ========================================================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Base: light, modern look (subtle gradient), crisp typography
   ========================================================================== */
@layer base {
  :root {
    color-scheme: light;
  }

  html, body {
    @apply text-neutral-900 antialiased;
    /* Very light, modern gradient background */
    background:
      radial-gradient(1200px 800px at 20% -10%, rgba(45,119,255,0.08), transparent 60%),
      radial-gradient(1000px 600px at 80% -10%, rgba(111,66,193,0.06), transparent 60%),
      #f7f8fb;
    min-height: 100%;
  }

  /* Improve focus rings for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-blue-500/60 ring-offset-2 ring-offset-white;
  }

  a {
    @apply text-blue-600 hover:text-blue-700 hover:underline;
  }
}

/* ==========================================================================
   Components: header glass, cards, inputs, buttons, tabs, containers
   ========================================================================== */
@layer components {
  /* Header glass look (used by Header.jsx wrapper) */
  .glass {
    @apply bg-white/85 backdrop-blur supports-[backdrop-filter]:bg-white/65;
  }

  /* Page container (use on main wrappers) */
  .container {
    @apply mx-auto max-w-6xl px-4;
  }

  /* Card surface */
  .card {
    @apply bg-white/95 rounded-xl border shadow-sm;
  }

  /* Inputs (keep them from spanning full viewport on desktop) */
  .input,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="date"],
  input[type="tel"],
  input[type="number"],
  select,
  textarea {
    @apply w-full max-w-md rounded-md border border-neutral-300 bg-white px-3 py-2 text-sm shadow-[inset_0_1px_0_rgba(0,0,0,0.02)];
  }

  .input:focus,
  input:focus,
  select:focus,
  textarea:focus {
    @apply border-blue-500 ring-2 ring-blue-500/20;
  }

  /* Select element baseline */
  .select {
    @apply w-full max-w-md rounded-md border border-neutral-300 bg-white px-3 py-2 text-sm;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-md border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-900 shadow-sm hover:bg-neutral-50;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium text-neutral-800 hover:bg-neutral-100;
  }

  /* Tabs (used for I-129F top tabs) */
  .tabs {
    @apply mb-6 flex items-center gap-1 overflow-x-auto;
  }
  .tab {
    @apply px-3 py-2 text-sm font-medium border-b-2 border-transparent hover:border-black/40 hover:text-black;
  }
  .tab-active {
    @apply border-black text-black;
  }
}

/* ==========================================================================
   Layout helpers: form grid (prevents 100% width on desktop), spacers
   ========================================================================== */
@layer utilities {
  /* Wrap forms with this grid container */
  .form-wrap {
    @apply grid gap-5;
  }

  /* Desktop: 12-column grid; on mobile it gracefully stacks */
  @media (min-width: 1024px) {
    .form-wrap {
      grid-template-columns: repeat(12, minmax(0, 1fr));
    }
    .field-span-12 { grid-column: span 12 / span 12; }
    .field-span-9  { grid-column: span 9 / span 9; }
    .field-span-8  { grid-column: span 8 / span 8; }
    .field-span-6  { grid-column: span 6 / span 6; }
    .field-span-4  { grid-column: span 4 / span 4; }
    .field-span-3  { grid-column: span 3 / span 3; }
  }

  /* Section headers / dividers */
  .section-title {
    @apply text-lg font-semibold text-neutral-900;
  }
  .section-subtle {
    @apply text-sm text-neutral-600;
  }
  .divider {
    @apply h-px w-full bg-neutral-200;
  }
}

/* ==========================================================================
   Optional: narrow scrollbars on desktop (chromium/webkit)
   ========================================================================== */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-thumb {
  background-color: rgba(0,0,0,0.15);
  border-radius: 9999px;
}
::-webkit-scrollbar-track {
  background-color: transparent;
}
